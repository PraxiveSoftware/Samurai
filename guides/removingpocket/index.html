<!doctype html><html><head><meta charset=UTF-8><link href=https://praxivesoftware.github.io/Samurai/main.css rel=stylesheet><meta content="width=device-width,initial-scale=1.0,maximum-scale=1" name=viewport><title> Removing pocket | Samurai </title><body><script>fetch(`https://api.github.com/repos/PraxiveSoftware/samurai/releases/latest`).then(a=>a.json()).then(a=>{let b=a.name;let c=a.html_url;release.innerHTML=`<a href='${c}'>${b}</a>`})</script><main><nav><a href=https://praxivesoftware.github.io/Samurai> <img alt src=https://raw.githubusercontent.com/microsoft/fluentui-emoji/main/assets/Dragon/3D/dragon_3d.png> </a><div id=release></div><a class=ms-Icon--GlobalNavButton href=javascript:void(0); id=mobile onclick=burger()></a><div id=trees><input class=tree-toggle id=getting-started type=checkbox><label class=tree-toggle-label for=getting-started>Getting Started</label><ul class=subtree><li><a href=https://praxivesoftware.github.io/Samurai/getting-started/overview/>Setting up your project</a><li><a href=https://praxivesoftware.github.io/Samurai/getting-started/filestructure/>Understanding the file structure</a><li><a href=https://praxivesoftware.github.io/Samurai/getting-started/userchrome/>Customizing Your Browser's UI</a></ul><input checked class=tree-toggle id=guides type=checkbox><label class=tree-toggle-label for=guides>Guides</label><ul class=subtree><li><a href=https://praxivesoftware.github.io/Samurai/guides/windows/>Preparing Windows</a><li class=active><a href=https://praxivesoftware.github.io/Samurai/guides/removingpocket/>Removing pocket</a><li><a href=https://praxivesoftware.github.io/Samurai/guides/includingaddons/>Including addons</a><li><a href=https://praxivesoftware.github.io/Samurai/guides/branding/>Branding your browser</a><li><a href=https://praxivesoftware.github.io/Samurai/guides/autoupdates/>Automatic updates</a></ul><input class=tree-toggle id=reference type=checkbox><label class=tree-toggle-label for=reference>Reference</label><ul class=subtree><li><a href=https://praxivesoftware.github.io/Samurai/reference/config/>`samurai.json` Reference</a></ul></div></nav><article><div id=on_right><span class=ms-Icon--Search id=search-ico></span></div><div class=search-container><input placeholder="Search as you type..." id=search type=search><div class=search-results><div class=search-results__header></div><ul class=search-results__items></ul></div></div><div id=wrap><h1 id=removing-pocket>Removing pocket</h1><p><strong>Note:</strong> This expects you have samurai setup.<h2 id=disabling-in-firefox-js>Disabling in firefox.js</h2><p>The goal of this guide is to disable pocket and remove its icon from the toolbar. The first changes we will need to make is to the firefox.js file located in <code>.engine/browser/app/profile/firefox.js</code>. Scroll to the lines that include the following settings (around line 1980 in firefox 94):<pre class=language-js data-lang=js style=color:#c0c5ce;background-color:#2b303b><code class=language-js data-lang=js><span style=color:#8fa1b3>pref</span><span>("</span><span style=color:#a3be8c>extensions.pocket.api</span><span>", "</span><span style=color:#a3be8c>api.getpocket.com</span><span>");
</span><span style=color:#8fa1b3>pref</span><span>("</span><span style=color:#a3be8c>extensions.pocket.enabled</span><span>", </span><span style=color:#d08770>true</span><span>);
</span><span style=color:#8fa1b3>pref</span><span>("</span><span style=color:#a3be8c>extensions.pocket.oAuthConsumerKey</span><span>", "</span><span style=color:#a3be8c>40249-e88c401e1b1f2242d9e441c4</span><span>");
</span><span style=color:#8fa1b3>pref</span><span>("</span><span style=color:#a3be8c>extensions.pocket.site</span><span>", "</span><span style=color:#a3be8c>getpocket.com</span><span>");
</span><span style=color:#8fa1b3>pref</span><span>("</span><span style=color:#a3be8c>extensions.pocket.onSaveRecs</span><span>", </span><span style=color:#d08770>true</span><span>);
</span><span style=color:#8fa1b3>pref</span><span>("</span><span style=color:#a3be8c>extensions.pocket.onSaveRecs.locales</span><span>", "</span><span style=color:#a3be8c>en-US,en-GB,en-CA</span><span>");
</span></code></pre><p>Delete these lines and replace them with the following:<pre class=language-js data-lang=js style=color:#c0c5ce;background-color:#2b303b><code class=language-js data-lang=js><span style=color:#65737e>// Taken from BetterFox user.js
</span><span style=color:#8fa1b3>user_pref</span><span>("</span><span style=color:#a3be8c>extensions.pocket.enabled</span><span>", </span><span style=color:#d08770>false</span><span>);
</span><span style=color:#8fa1b3>user_pref</span><span>("</span><span style=color:#a3be8c>extensions.pocket.api</span><span>", " ");
</span><span style=color:#8fa1b3>user_pref</span><span>("</span><span style=color:#a3be8c>extensions.pocket.oAuthConsumerKey</span><span>", " ");
</span><span style=color:#8fa1b3>user_pref</span><span>("</span><span style=color:#a3be8c>extensions.pocket.site</span><span>", " ");
</span></code></pre><p>Next, you will need to remove pocket from the new tab page. You can do this by simply adding the following line to the bottom of <code>firefox.js</code>:<pre class=language-js data-lang=js style=color:#c0c5ce;background-color:#2b303b><code class=language-js data-lang=js><span style=color:#8fa1b3>user_pref</span><span>(
</span><span>  "</span><span style=color:#a3be8c>browser.newtabpage.activity-stream.section.highlights.includePocket</span><span>",
</span><span>  </span><span style=color:#d08770>false
</span><span>);
</span></code></pre><p>Now you simply need to export the changes made to <code>firefox.js</code>:<pre class=language-sh data-lang=sh style=color:#c0c5ce;background-color:#2b303b><code class=language-sh data-lang=sh><span style=color:#bf616a>samurai</span><span> export-file browser/app/profile/firefox.js
</span></code></pre><h2 id=removing-pocket-icon-from-toolbar>Removing pocket icon from toolbar</h2><p>Whilst the steps above will have disabled pocket. The pocket icon will still be visible in the toolbar. Instead you must remove it from the CustomizableUI layout. Open <code>.engine/browser/components/customizableui/CustomizableUI.jsm</code> and find the array that looks like this (around line 240):<pre class=language-js data-lang=js style=color:#c0c5ce;background-color:#2b303b><code class=language-js data-lang=js><span style=color:#b48ead>let </span><span style=color:#bf616a>navbarPlacements </span><span>= [
</span><span>  "</span><span style=color:#a3be8c>back-button</span><span>",
</span><span>  "</span><span style=color:#a3be8c>forward-button</span><span>",
</span><span>  "</span><span style=color:#a3be8c>stop-reload-button</span><span>",
</span><span>  </span><span style=color:#bf616a>Services</span><span>.</span><span style=color:#bf616a>policies</span><span>.</span><span style=color:#8fa1b3>isAllowed</span><span>("</span><span style=color:#a3be8c>removeHomeButtonByDefault</span><span>")
</span><span>    ? </span><span style=color:#d08770>null
</span><span>    : "</span><span style=color:#a3be8c>home-button</span><span>",
</span><span>  "</span><span style=color:#a3be8c>spring</span><span>",
</span><span>  "</span><span style=color:#a3be8c>urlbar-container</span><span>",
</span><span>  "</span><span style=color:#a3be8c>spring</span><span>",
</span><span>  "</span><span style=color:#a3be8c>save-to-pocket-button</span><span>",
</span><span>  "</span><span style=color:#a3be8c>downloads-button</span><span>",
</span><span>  </span><span style=color:#bf616a>AppConstants</span><span>.</span><span style=color:#bf616a>MOZ_DEV_EDITION </span><span>? "</span><span style=color:#a3be8c>developer-button</span><span>" : </span><span style=color:#d08770>null</span><span>,
</span><span>  "</span><span style=color:#a3be8c>fxa-toolbar-menu-button</span><span>",
</span><span>].</span><span style=color:#8fa1b3>filter</span><span>((</span><span style=color:#bf616a>name</span><span>) </span><span style=color:#b48ead>=> </span><span style=color:#bf616a>name</span><span>);
</span></code></pre><p>Remove the <code>save-to-pocket-button</code> item from the array and export the changes:<pre class=language-sh data-lang=sh style=color:#c0c5ce;background-color:#2b303b><code class=language-sh data-lang=sh><span style=color:#bf616a>samurai</span><span> export-file browser/components/customizableui/CustomizableUI.jsm
</span></code></pre></div></article></main><script defer src=https://praxivesoftware.github.io/Samurai/elasticlunr.min.js></script><script defer src=https://praxivesoftware.github.io/Samurai/search_index.en.js></script><script defer src=https://praxivesoftware.github.io/Samurai/js.js></script>