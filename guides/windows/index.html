<!doctype html><html><head><meta charset=UTF-8><link href=https://praxivesoftware.github.io/Samurai/main.css rel=stylesheet><meta content="width=device-width,initial-scale=1.0,maximum-scale=1" name=viewport><title> Preparing Windows | Samurai </title><body><script>fetch(`https://api.github.com/repos/PraxiveSoftware/samurai/releases/latest`).then(a=>a.json()).then(a=>{let b=a.name;let c=a.html_url;release.innerHTML=`<a href='${c}'>${b}</a>`})</script><main><nav><a href=https://praxivesoftware.github.io/Samurai> <img alt src=https://raw.githubusercontent.com/microsoft/fluentui-emoji/main/assets/Dragon/3D/dragon_3d.png> </a><div id=release></div><a class=ms-Icon--GlobalNavButton href=javascript:void(0); id=mobile onclick=burger()></a><div id=trees><input class=tree-toggle id=getting-started type=checkbox><label class=tree-toggle-label for=getting-started>Getting Started</label><ul class=subtree><li><a href=https://praxivesoftware.github.io/Samurai/getting-started/overview/>Setting up your project</a><li><a href=https://praxivesoftware.github.io/Samurai/getting-started/filestructure/>Understanding the file structure</a><li><a href=https://praxivesoftware.github.io/Samurai/getting-started/userchrome/>Customizing Your Browser's UI</a></ul><input checked class=tree-toggle id=guides type=checkbox><label class=tree-toggle-label for=guides>Guides</label><ul class=subtree><li class=active><a href=https://praxivesoftware.github.io/Samurai/guides/windows/>Preparing Windows</a><li><a href=https://praxivesoftware.github.io/Samurai/guides/removingpocket/>Removing pocket</a><li><a href=https://praxivesoftware.github.io/Samurai/guides/includingaddons/>Including addons</a><li><a href=https://praxivesoftware.github.io/Samurai/guides/branding/>Branding your browser</a><li><a href=https://praxivesoftware.github.io/Samurai/guides/autoupdates/>Automatic updates</a></ul><input class=tree-toggle id=reference type=checkbox><label class=tree-toggle-label for=reference>Reference</label><ul class=subtree><li><a href=https://praxivesoftware.github.io/Samurai/reference/config/>`samurai.json` Reference</a></ul></div></nav><article><div id=on_right><span class=ms-Icon--Search id=search-ico></span></div><div class=search-container><input placeholder="Search as you type..." id=search type=search><div class=search-results><div class=search-results__header></div><ul class=search-results__items></ul></div></div><div id=wrap><h1 id=preparing-windows>Preparing Windows</h1><p>Building on windows is significantly more complex than building on macos or linux. This guide will walk you through preparing your Windows machine for building a Firefox fork. Before building, you should be aware that <a href=https://firefox-source-docs.mozilla.org/build/buildsystem/supported-configurations.html#build-hosts>only Windows 10 or 11 are officially supported</a>, but you might be able to get other versions to work.<h2 id=installing-dependencies>Installing Dependencies</h2><p>The first thing you will need to do is install Microsoft's c++ build tools. You will need to download <a href=https://visualstudio.microsoft.com/downloads/#build-tools-for-visual-studio-2022>Build Tools for Visual Studio 2022</a>. The following will need to be installed:<ul><li><strong>In the <em>Workloads</em> tab</strong> <ul><li>Desktop development with C++</ul><li><strong>In the <em>Individual components</em> tab</strong> <ul><li>MSVC v143 - VS 2022 C++ x64/x86 build tools.<li>Windows 10 SDK (at least 10.0.19041.0).<li>C++ ATL for v143 build tools (x86 and x64).</ul></ul><blockquote><p><strong>Note:</strong> If this guide ever gets out of date, you can get the latest build requirements from <a href=https://firefox-source-docs.mozilla.org/setup/windows_build.html#system-preparation>Mozilla's docs</a></blockquote><p>You will need to install <a href=https://ftp.mozilla.org/pub/mozilla/libraries/win32/MozillaBuildSetup-Latest.exe>MozillaBuild</a>. Next, <a href=https://git-scm.com/download/win>install Git</a>. You will need to set the following specific options on install to ensure high performance:<ul><li>Configuring the line ending conversions must be: Checkout as-is, commit as-is<li>Enable experimental built-in file system monitor</ul><p>Install <a href=https://nodejs.org/en/download/current/>NodeJS</a> on your system. This should also install chocolatey. If it does not, <a href=https://docs.chocolatey.org/en-us/choco/setup>install it manually</a>. To install the final two dependencies, run:<pre class=language-sh data-lang=sh style=color:#c0c5ce;background-color:#2b303b><code class=language-sh data-lang=sh><span style=color:#bf616a>npm</span><span> install</span><span style=color:#bf616a> --global</span><span> yarn
</span><span style=color:#bf616a>choco</span><span> install make
</span></code></pre><p>You should be good to return back to the main <a href=/getting-started/overview>Getting Started docs</a><h2 id=additional-packages-required-for-releasing>Additional packages required for releasing</h2><p>If you are creating binaries to target windows, you will need nsis (which mach calls <code>makensisu</code> for some reason, even though the binary is <code>makensis</code>):<pre class=language-powershell data-lang=powershell style=color:#c0c5ce;background-color:#2b303b><code class=language-powershell data-lang=powershell><span>choco install nsis
</span></code></pre><p>Note that you will also have to provide a path to nsis on your system. For mine it is:<pre class=language-sh data-lang=sh style=color:#c0c5ce;background-color:#2b303b><code class=language-sh data-lang=sh><span style=color:#b48ead>export </span><span style=color:#bf616a>MAKENSISU</span><span>="</span><span style=color:#a3be8c>C:</span><span style=color:#96b5b4>\\</span><span style=color:#a3be8c>Program Files (x86)</span><span style=color:#96b5b4>\\</span><span style=color:#a3be8c>NSIS</span><span style=color:#96b5b4>\\</span><span style=color:#a3be8c>Bin</span><span style=color:#96b5b4>\\</span><span style=color:#a3be8c>makensis.exe</span><span>"
</span></code></pre></div></article></main><script defer src=https://praxivesoftware.github.io/Samurai/elasticlunr.min.js></script><script defer src=https://praxivesoftware.github.io/Samurai/search_index.en.js></script><script defer src=https://praxivesoftware.github.io/Samurai/js.js></script>